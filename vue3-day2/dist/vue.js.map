{"version":3,"file":"vue.js","sources":["../src/reactivity/computed.ts","../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../node_modules/tslib/tslib.es6.js","../src/runtime-core/vnode.ts","../src/runtime-core/apiCreateApp.ts","../src/runtime-core/component.ts","../src/runtime-core/renderer.ts","../src/runtime-core/h.ts","../src/runtime-dom/nodeOps.ts","../src/runtime-dom/patchProp.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export function computed(){\n    \n}","export const isObject = (val) => typeof val == 'object' && val !== null;\nexport const isSymbol = (val) => typeof val == 'symbol';\n\nexport const isArray = Array.isArray;\nexport const isInteger = (key) => '' + parseInt(key, 10) === key\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport const hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nexport const hasChanged = (value, oldValue) => value !== oldValue\n\nexport const isString = (value) => typeof value == 'string'\n\nexport const isFunction = (value) => typeof value == 'function'\n\n\nexport * from './shapeFlags'","import { isArray, isInteger } from \"../shared/index\";\n\nexport function effect(fn, options: any = {}) { // effect => vue2 watcher\n    const effect = createReactiveEffect(fn, options);\n    if (!options.lazy) {\n        effect();\n    }\n    return effect;\n}\nlet activeEffect; // 用来存储当前的effect函数\n\nlet uid = 0;\nconst effectStack = [];\nfunction createReactiveEffect(fn, options) {\n    const effect = function () {\n        if (!effectStack.includes(effect)) { // 防止递归执行\n            try {\n                activeEffect = effect;\n                effectStack.push(activeEffect)\n                return fn(); // 用户自己写的逻辑, 内部会对数据进行取值操作 ,在取值时 可以拿到这个activeAffect\n            } finally {\n                effectStack.pop();\n                activeEffect = effectStack[effectStack.length - 1];\n            }\n        }\n    }\n    effect.id = uid++;\n    effect.deps = []; // 用来表示 effect中依赖了那属性\n    effect.options = options;\n    return effect;\n}\n// {object:{key:[effect,effect]}}\n\nconst targetMap = new WeakMap(); // {target:{key:new Set()}}\n// 将属性和effect做一个关联\nexport function track(target, key) { // {{ name: 'zf', age: 11, address: '回龙观' }:{name:[effect],age:[effect]}}\n    if (activeEffect == undefined) {\n        return;\n    }\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n        targetMap.set(target, (depsMap = new Map()))\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n        depsMap.set(key, (dep = new Set))\n    }\n    if (!dep.has(activeEffect)) { // 如果没有effect 就把effect放进到集合中\n        dep.add(activeEffect);\n        activeEffect.deps.push(dep); // 双向记忆的过程\n    }\n}\n// trigger属性\nexport function trigger(target, type, key, value?, oldValue?) {\n    const depsMap = targetMap.get(target);\n    if (!depsMap) {\n        return;\n    }\n    const run = effects => {\n        if (effects) effects.forEach(effect => effect());\n    }\n    // 数组有特殊的情况\n\n    if (key === 'length' && isArray(target)) {\n        depsMap.forEach((dep,key)=>{ // map 可以循环\n            if(key == 'length' || key >= value){ // 如果改的长度 小于数组原有的长度时 应该更新视图\n                run(dep);\n            }\n        })\n    } else {\n        // 对象的处理\n        if (key != void 0) { // 说明修改了key\n            run(depsMap.get(key));\n        }\n        switch (type) {\n            case 'add':\n                if(isArray(target)){ // 给数组如果通过索引增加选项\n                    if(isInteger(key)){\n                        run(depsMap.get('length')); // 因为如果页面中直接使用了数组也会对数组进行取值操作，会对length 进行收集，新增属性时直接触发length即可\n                    }\n                }\n                break;\n        \n            default:\n                break;\n        }\n    }\n}","import { track, trigger } from \"./effect\";\nimport { hasChanged, hasOwn, isArray, isInteger, isObject, isSymbol } from \"../shared/index\";\nimport { reactive } from \"./reactive\";\n\nfunction createGetter() {\n    return function get(target, key, receiver) {// 获取对象中的属性会执行此方法\n        const res = Reflect.get(target, key, receiver); // target[key];\n        // 如果取的值是symbol 类型 我要忽略他\n        if (isSymbol(key)) { // 数组中有很多symbol的内置方法 \n            return res;\n        }\n        // 依赖收集\n        console.log(key);\n        track(target, key);\n        console.log('此时数据做了获取的操作'); // todo...\n\n        if (isObject(res)) { // 取值是对象在进行代理 懒递归\n            return reactive(res);\n        }\n        return res;\n    }\n}\nfunction createSetter() {\n    return function set(target, key, value, receiver) { // 设置属性值的时候会执行此方法\n        // vue2不支持新增属性\n        // 新增还是修改?\n        const oldValue = target[key]; // 如果是修改那肯定有老值\n        // 看一下有没有这个属性 \n        // 第一种是 数组新增的逻辑  第二种是对象的逻辑\n        const hadKey = isArray(target) && isInteger(key) ? Number(key) < target.length : hasOwn(target, key);\n        const result = Reflect.set(target, key, value, receiver); //  target[key] = value;\n\n        // 新增属性是对象无所谓 ，只有取的时候才会做代理\n        if (!hadKey) {\n            trigger(target, 'add', key, value);\n\n        } else if (hasChanged(value, oldValue)) {\n            trigger(target, 'set', key, value, oldValue);\n        }\n        return result;\n    }\n}\nconst get = createGetter(); // 为了预置参数\nconst set = createSetter();\n\nexport const mutableHandlers = {\n    get,\n    set\n}","import { isObject } from \"../shared/index\";\nimport { mutableHandlers } from \"./baseHandlers\";\nexport function reactive(target){\n    // 我们需要将目标变成响应式对象，Proxy\n    return createReactiveObject(target,mutableHandlers); // 核心的操作就是当读取文件时做依赖收集，当数据变化时要重新执行effect\n}\nconst proxyMap = new WeakMap(); \nfunction createReactiveObject(target,baseHandlers){\n    // 如果不是对象直接不理你\n    if(!isObject(target)){\n        return target\n    }\n    const exisitingProxy = proxyMap.get(target);\n    if(exisitingProxy){\n        return exisitingProxy;\n    }\n    // 只是对最外层对象做代理 ，默认不会递归，而且不会重新重写对象中的属性\n    const proxy = new Proxy(target,baseHandlers);\n    proxyMap.set(target,proxy); // 将代理的对象和 代理后的结果做一个映射表\n    return proxy;\n}","export function ref(){\n    \n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { isArray, isObject, isString, ShapeFlags } from \"../shared\"\n\nexport function createVnode(type, props: any = {}, children = null) {\n    // type 是什么类型？\n    const shapeFlag = isString(type) ? \n        ShapeFlags.ELEMENT :\n        isObject(type) ? \n        ShapeFlags.STATEFUL_COMPONENT : 0\n\n\n    const vnode = { // 虚拟节点可以表示dom结构,也可以用来表示组件\n        type,\n        props,\n        children,\n        component: null, // 组件的实例\n        el: null, // 虚拟节点要和真实节点做一个映射关系\n        key: props.key,\n        shapeFlag // vue3 里面非常优秀的做法  虚拟节点的类型  元素 、 组件\n    }\n    if(isArray(children)){\n        // 1  16\n        // 00000001\n        // 00001000  \n        // 00001001\n        vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN; // 如果在或的过程中有一个是1就是1 把两个数相加\n    }else{\n        // 1  8 = 9\n        // 4 || 16\n        // 00000100\n        // 00001000 // 1100\n        vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN; \n    }\n    return vnode;\n}","import { createVnode } from \"./vnode\";\n\nexport function createAppAPI(render) {\n    return (rootComponent) => {\n        const app = {\n            mount(container) { // 和平台是无关的\n                // 用户调用的mount方法 \n                const vnode = createVnode(rootComponent)\n                render(vnode,container);\n            }\n        }\n        return app;\n    }\n}","import { isFunction } from \"../shared\";\n\nexport function createComponentInstace(vnode){\n    const instance = {\n        type:vnode.type,\n        props:{},\n        vnode,\n        render:null,\n        setupState:null,\n        isMounted:false, // 默认组件没有挂载\n    }\n    return instance\n}\n\nexport const setupComponent = (instance)=>{\n    // 1）源码中会对属性进行初始化\n\n    // 2) 会对插槽进行初始化\n\n    // 3).调用setup方法\n    setupStatefulComponent(instance)\n}\n\nfunction setupStatefulComponent(instance){\n    const Component = instance.type; // 组件的虚拟节点\n    const {setup} = Component;\n    if(setup){\n        const setUpResult = setup(); // 获取setup返回的值\n        // 判断返回值类型\n        handleSetupResult(instance,setUpResult); \n    }\n}\nfunction handleSetupResult(instance,setUpResult){\n    if(isFunction(setUpResult)){\n        instance.render = setUpResult; // 获取render方法\n    }else{\n        instance.setupState = setUpResult\n    }\n    finishComponentSetup(instance);\n}\nfunction finishComponentSetup(instance){\n    const Component = instance.type; \n    if(Component.render){\n        instance.render = Component.render; // 默认redner的优先级高于setup返回的render\n    }else if(!instance.render){\n        // compile(Component.template) 编译成render函数\n    }\n    // vue3 是兼容vue2的属性的 data component watch\n\n    // applyOptions() vue2 和 vue3 中的setup返回的结果做合并操作\n}","import { effect } from \"../reactivity\";\nimport { ShapeFlags } from \"../shared\";\nimport { createAppAPI } from \"./apiCreateApp\"; // 用会调用的createApp方法\nimport { createComponentInstace, setupComponent } from \"./component\";\n\nexport function createRenderer(options) { // options 是平台传过来的方法，不同的平台可以实现不同的操作逻辑\n    return baseCreateRenderer(options);\n}\n// vue2 compile模块\nfunction baseCreateRenderer(options) {\n\n    const {\n        createElement:hostCreateElement,\n        patchProp:hostPatchProp,\n        setElementText:hostSetElementText,\n        insert:hostInsert,\n        remove:hostRemove\n    } = options;\n   \n    const mountElement = (vnode, container) => {\n        // n2 虚拟节点   container就是容器\n        let {shapeFlag,props} = vnode;\n        let el = vnode.el = hostCreateElement(vnode.type);\n\n        // 创建儿子节点\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\n            hostSetElementText(el,vnode.children);\n        }else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\n            mountChildren(vnode.children,el);\n        }\n        if(props){\n            for(let key in props){\n                hostPatchProp(el,key,null,props[key]);\n            }\n        }\n        hostInsert(el,container)\n    }\n    const mountChildren =(children,container) =>{\n        for(let i = 0; i < children.length;i++){\n            patch(null,children[i],container)\n        }\n    }\n    const patchElement = (n1, n2, container) => {\n\n    }\n    const mountComponent = (initialVnode, container) => {\n        // 组件挂载逻辑  1.创建组件的实例 2.找到组件的render方法 3.执行render\n        // 组件实例要记录当前组件的状态\n        const instance = initialVnode.component = createComponentInstace(initialVnode);\n\n        setupComponent(instance); // 找到组件的setup方法\n\n        // 调用render方法， 如果render方法中数据变化了 会重新渲染\n    \n        setupRenderEffect(instance,initialVnode,container); // 给组件创建一个effect 用于渲染 == vue2 watcher\n    }\n    const setupRenderEffect = (instance,initialVnode,container)=>{\n        effect(function componentEffect(){\n            if(!instance.isMounted){\n                // 渲染组件中的内容\n                const subTree = instance.subTree = instance.render(); // 组件对应渲染的结果\n                patch(null,subTree,container)\n                instance.isMounted = true;\n            }else{\n                // 更新逻辑\n                let prev = instance.subTree // 上一次的渲染结果\n                let next = instance.render();\n                console.log(prev,next)\n            }\n        })\n    }\n    const updateComponent = (n1, n2, container) => { }\n    const processElement = (n1, n2, container) => {\n        if (n1 == null) {\n            mountElement(n2, container);\n        } else {\n            patchElement(n1, n2, container)\n        }\n    }\n    const processComponent = (n1, n2, container) => {\n        if (n1 == null) {\n            mountComponent(n2, container);\n        } else {\n            updateComponent(n1, n2, container);\n        }\n    }\n    const render = (vnode, container) => {\n        // 我需要将虚拟节点  变成真实节点 挂载到容器上\n        patch(null, vnode, container)\n    }\n    const patch = (n1, n2, container) => {\n        let { shapeFlag } = n2;\n        // 20  组件孩子里有数组\n        // 10000\n        // 01000\n        if (shapeFlag & ShapeFlags.ELEMENT) { // 都是1 才是1\n            processElement(n1, n2, container);\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n            processComponent(n1, n2, container);\n        }\n    }\n\n    return {\n        createApp: createAppAPI(render)\n    }\n}","import { createVnode } from \"./vnode\";\n\nexport function h(type, props = {}, children = null) {\n\n    return createVnode(type,props,children);\n\n}   ","export const nodeOps = {\n    createElement(type){\n        return document.createElement(type);\n    },\n    setElementText(el,text){\n        el.textContent = text;\n    },\n    insert(child,parent,anchor=null){\n        parent.insertBefore(child,anchor); // appendChild\n    },\n    remove(child){\n        const parent = child.parentNode;\n        if(parent){\n            parent.removeChild(child)\n        }\n    }\n}","\nfunction patchClass(el, value) {\n    if (value == null) {\n        value = '';\n    }\n    el.className = value\n}\nfunction patchStyle(el,prev,next){ // {color:red}  {background:red}\n    const style = el.style;\n    if(!next){\n        el.removeAttribute('style'); // 说明不需要有样式\n    }else{\n        for(let key in next){\n            style[key] = next[key]\n        }\n        if(prev){\n            for(let key in prev){\n                if(next[key] == null){\n                    style[key] = ''\n                }\n            }\n        }\n    }\n}\nfunction patchAttr(el,key,value){\n    if(value == null){\n        el.removeAttribute(key);\n    }else{\n        el.setAttribute(key,value);\n    }\n}\nexport function patchProp(el, key, prevValue, nextValue) {\n    switch (key) {\n        case 'class':\n            patchClass(el, nextValue);\n            break;\n        case 'style':\n            // {color:'red'}\n            patchStyle(el,prevValue,nextValue);\n            break;\n        default:\n            patchAttr(el,key,nextValue);\n    }\n}","\nimport { createRenderer } from \"../runtime-core\";\nimport { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./patchProp\";\n\n\n\nconst renderOptions = {...nodeOps,patchProp}; // dom操作\n\nfunction ensureRenderer(){\n    return createRenderer(renderOptions)\n}\n\n//  createApp(App).mount('#app');\nexport function createApp(rootComponent){\n    // 1.根据组件 创建一个渲染器\n    const app = ensureRenderer().createApp(rootComponent);\n    const {mount} = app\n    app.mount = function (container) {  \n        container = document.querySelector(container)\n        // 1.挂载时需要将容器清空 在进行挂载\n        container.innerHTML = ''\n        mount(container);\n    }\n    return app\n}\n// reactive"],"names":[],"mappings":"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"}