{"version":3,"file":"vue.js","sources":["../src/reactivity/computed.ts","../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../node_modules/tslib/tslib.es6.js","../src/runtime-core/vnode.ts","../src/runtime-core/apiCreateApp.ts","../src/runtime-core/component.ts","../src/runtime-core/renderer.ts","../src/runtime-core/h.ts","../src/runtime-dom/nodeOps.ts","../src/runtime-dom/patchProp.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export function computed(){\n    \n}","export const isObject = (val) => typeof val == 'object' && val !== null;\nexport const isSymbol = (val) => typeof val == 'symbol';\n\nexport const isArray = Array.isArray;\nexport const isInteger = (key) => '' + parseInt(key, 10) === key\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport const hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nexport const hasChanged = (value, oldValue) => value !== oldValue\n\nexport const isString = (value) => typeof value == 'string'\n\nexport const isFunction = (value) => typeof value == 'function'\n\n\nexport * from './shapeFlags'","import { isArray, isInteger } from \"../shared/index\";\n\nexport function effect(fn, options: any = {}) { // effect => vue2 watcher\n    const effect = createReactiveEffect(fn, options);\n    if (!options.lazy) {\n        effect();\n    }\n    return effect;\n}\nlet activeEffect; // 用来存储当前的effect函数\n\nlet uid = 0;\nconst effectStack = [];\nfunction createReactiveEffect(fn, options) {\n    const effect = function () {\n        if (!effectStack.includes(effect)) { // 防止递归执行\n            try {\n                activeEffect = effect;\n                effectStack.push(activeEffect)\n                return fn(); // 用户自己写的逻辑, 内部会对数据进行取值操作 ,在取值时 可以拿到这个activeAffect\n            } finally {\n                effectStack.pop();\n                activeEffect = effectStack[effectStack.length - 1];\n            }\n        }\n    }\n    effect.id = uid++;\n    effect.deps = []; // 用来表示 effect中依赖了那属性\n    effect.options = options;\n    return effect;\n}\n// {object:{key:[effect,effect]}}\n\nconst targetMap = new WeakMap(); // {target:{key:new Set()}}\n// 将属性和effect做一个关联\nexport function track(target, key) { // {{ name: 'zf', age: 11, address: '回龙观' }:{name:[effect],age:[effect]}}\n    if (activeEffect == undefined) {\n        return;\n    }\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n        targetMap.set(target, (depsMap = new Map()))\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n        depsMap.set(key, (dep = new Set))\n    }\n    if (!dep.has(activeEffect)) { // 如果没有effect 就把effect放进到集合中\n        dep.add(activeEffect);\n        activeEffect.deps.push(dep); // 双向记忆的过程\n    }\n}\n// trigger属性\nexport function trigger(target, type, key, value?, oldValue?) {\n    const depsMap = targetMap.get(target);\n    if (!depsMap) {\n        return;\n    }\n    const run = effects => {\n        if (effects) effects.forEach(effect => effect());\n    }\n    // 数组有特殊的情况\n\n    if (key === 'length' && isArray(target)) {\n        depsMap.forEach((dep,key)=>{ // map 可以循环\n            if(key == 'length' || key >= value){ // 如果改的长度 小于数组原有的长度时 应该更新视图\n                run(dep);\n            }\n        })\n    } else {\n        // 对象的处理\n        if (key != void 0) { // 说明修改了key\n            run(depsMap.get(key));\n        }\n        switch (type) {\n            case 'add':\n                if(isArray(target)){ // 给数组如果通过索引增加选项\n                    if(isInteger(key)){\n                        run(depsMap.get('length')); // 因为如果页面中直接使用了数组也会对数组进行取值操作，会对length 进行收集，新增属性时直接触发length即可\n                    }\n                }\n                break;\n        \n            default:\n                break;\n        }\n    }\n}","import { track, trigger } from \"./effect\";\nimport { hasChanged, hasOwn, isArray, isInteger, isObject, isSymbol } from \"../shared/index\";\nimport { reactive } from \"./reactive\";\n\nfunction createGetter() {\n    return function get(target, key, receiver) {// 获取对象中的属性会执行此方法\n        const res = Reflect.get(target, key, receiver); // target[key];\n        // 如果取的值是symbol 类型 我要忽略他\n        if (isSymbol(key)) { // 数组中有很多symbol的内置方法 \n            return res;\n        }\n        // 依赖收集\n        console.log(key);\n        track(target, key);\n        console.log('此时数据做了获取的操作'); // todo...\n\n        if (isObject(res)) { // 取值是对象在进行代理 懒递归\n            return reactive(res);\n        }\n        return res;\n    }\n}\nfunction createSetter() {\n    return function set(target, key, value, receiver) { // 设置属性值的时候会执行此方法\n        // vue2不支持新增属性\n        // 新增还是修改?\n        const oldValue = target[key]; // 如果是修改那肯定有老值\n        // 看一下有没有这个属性 \n        // 第一种是 数组新增的逻辑  第二种是对象的逻辑\n        const hadKey = isArray(target) && isInteger(key) ? Number(key) < target.length : hasOwn(target, key);\n        const result = Reflect.set(target, key, value, receiver); //  target[key] = value;\n\n        // 新增属性是对象无所谓 ，只有取的时候才会做代理\n        if (!hadKey) {\n            trigger(target, 'add', key, value);\n\n        } else if (hasChanged(value, oldValue)) {\n            trigger(target, 'set', key, value, oldValue);\n        }\n        return result;\n    }\n}\nconst get = createGetter(); // 为了预置参数\nconst set = createSetter();\n\nexport const mutableHandlers = {\n    get,\n    set\n}","import { isObject } from \"../shared/index\";\nimport { mutableHandlers } from \"./baseHandlers\";\nexport function reactive(target){\n    // 我们需要将目标变成响应式对象，Proxy\n    return createReactiveObject(target,mutableHandlers); // 核心的操作就是当读取文件时做依赖收集，当数据变化时要重新执行effect\n}\nconst proxyMap = new WeakMap(); \nfunction createReactiveObject(target,baseHandlers){\n    // 如果不是对象直接不理你\n    if(!isObject(target)){\n        return target\n    }\n    const exisitingProxy = proxyMap.get(target);\n    if(exisitingProxy){\n        return exisitingProxy;\n    }\n    // 只是对最外层对象做代理 ，默认不会递归，而且不会重新重写对象中的属性\n    const proxy = new Proxy(target,baseHandlers);\n    proxyMap.set(target,proxy); // 将代理的对象和 代理后的结果做一个映射表\n    return proxy;\n}","export function ref(){\n    \n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { isArray, isObject, isString, ShapeFlags } from \"../shared\"\n\nexport function createVnode(type, props: any = {}, children = null) {\n    // type 是什么类型？\n    const shapeFlag = isString(type) ? \n        ShapeFlags.ELEMENT :\n        isObject(type) ? \n        ShapeFlags.STATEFUL_COMPONENT : 0\n\n\n    const vnode = { // 虚拟节点可以表示dom结构,也可以用来表示组件\n        type,\n        props,\n        children,\n        component: null, // 组件的实例\n        el: null, // 虚拟节点要和真实节点做一个映射关系\n        key: props.key,\n        shapeFlag // vue3 里面非常优秀的做法  虚拟节点的类型  元素 、 组件\n    }\n    if(isArray(children)){\n        // 1  16\n        // 00000001\n        // 00001000  \n        // 00001001\n        vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN; // 如果在或的过程中有一个是1就是1 把两个数相加\n    }else{\n        // 1  8 = 9\n        // 4 || 16\n        // 00000100\n        // 00001000 // 1100\n        vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN; \n    }\n    return vnode;\n}","import { createVnode } from \"./vnode\";\n\nexport function createAppAPI(render) {\n    return (rootComponent) => {\n        const app = {\n            mount(container) { // 和平台是无关的\n                // 用户调用的mount方法 \n                const vnode = createVnode(rootComponent)\n                render(vnode,container);\n            }\n        }\n        return app;\n    }\n}","import { isFunction } from \"../shared\";\n\nexport function createComponentInstace(vnode){\n    const instance = {\n        type:vnode.type,\n        props:{},\n        vnode,\n        render:null,\n        setupState:null,\n        isMounted:false, // 默认组件没有挂载\n    }\n    return instance\n}\n\nexport const setupComponent = (instance)=>{\n    // 1）源码中会对属性进行初始化\n\n    // 2) 会对插槽进行初始化\n\n    // 3).调用setup方法\n    setupStatefulComponent(instance)\n}\n\nfunction setupStatefulComponent(instance){\n    const Component = instance.type; // 组件的虚拟节点\n    const {setup} = Component;\n    if(setup){\n        const setUpResult = setup(); // 获取setup返回的值\n        // 判断返回值类型\n        handleSetupResult(instance,setUpResult); \n    }\n}\nfunction handleSetupResult(instance,setUpResult){\n    if(isFunction(setUpResult)){\n        instance.render = setUpResult; // 获取render方法\n    }else{\n        instance.setupState = setUpResult\n    }\n    finishComponentSetup(instance);\n}\nfunction finishComponentSetup(instance){\n    const Component = instance.type; \n    if(Component.render){\n        instance.render = Component.render; // 默认redner的优先级高于setup返回的render\n    }else if(!instance.render){\n        // compile(Component.template) 编译成render函数\n    }\n    // vue3 是兼容vue2的属性的 data component watch\n\n    // applyOptions() vue2 和 vue3 中的setup返回的结果做合并操作\n}","import { effect } from \"../reactivity\";\nimport { ShapeFlags } from \"../shared\";\nimport { createAppAPI } from \"./apiCreateApp\"; // 用会调用的createApp方法\nimport { createComponentInstace, setupComponent } from \"./component\";\n\nexport function createRenderer(options) { // options 是平台传过来的方法，不同的平台可以实现不同的操作逻辑\n    return baseCreateRenderer(options);\n}\n// vue2 compile模块\nfunction baseCreateRenderer(options) {\n\n    const {\n        createElement: hostCreateElement,\n        patchProp: hostPatchProp,\n        setElementText: hostSetElementText,\n        insert: hostInsert,\n        remove: hostRemove\n    } = options;\n\n    const mountElement = (vnode, container, anchor) => {\n        // n2 虚拟节点   container就是容器\n        let { shapeFlag, props } = vnode;\n        let el = vnode.el = hostCreateElement(vnode.type);\n\n        // 创建儿子节点\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, vnode.children);\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(vnode.children, el);\n        }\n        if (props) {\n            for (let key in props) {\n                hostPatchProp(el, key, null, props[key]);\n            }\n        }\n        hostInsert(el, container, anchor)\n    }\n    const mountChildren = (children, container) => {\n        for (let i = 0; i < children.length; i++) {\n            patch(null, children[i], container)\n        }\n    }\n    const patchProps = (oldProps, newProps, el) => {\n        if (oldProps !== newProps) {\n            // 新的属性 需要覆盖掉老的\n            for (let key in newProps) {\n                const prev = oldProps[key];\n                const next = newProps[key];\n                if (prev !== next) {\n                    hostPatchProp(el, key, prev, next);\n                }\n            }\n            // 老的有的属性 新的没有 将老的删除掉\n\n            for (const key in oldProps) {\n                if (!(key in newProps)) {\n                    hostPatchProp(el, key, oldProps[key], null);\n                }\n            }\n        }\n    }\n    const patchKeydChildren = (c1, c2, el) => {\n        // 内部有优化策略 \n        // abc    i = 0\n        // abde  从头比\n        let i = 0;\n        let e1 = c1.length - 1; // 老儿子中最后一项的索引\n        let e2 = c2.length - 1; // 新儿子中最后一项的索引\n        while (i <= e1 && i <= e2) {\n            const n1 = c1[i];\n            const n2 = c2[i];\n            if (isSameVnodeType(n1, n2)) {\n                patch(n1, n2, el); // 会递归比对子元素\n            } else {\n                break;\n            }\n            i++;\n        }\n        // abc // e1 = 2\n        //eabc // e2 = 3 // 从后比\n        while (i <= e1 && i <= e2) {\n            const n1 = c1[e1];\n            const n2 = c2[e2];\n            if (isSameVnodeType(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            e1--;\n            e2--;\n        }\n\n        //  只考虑 元素新增和删除的情况 \n        // abc => abcd  (i=3  e1=2  e2=3 )    abc  => dabc (i=0  e1=-1  e2=0 )\n\n        // 只要i 大于了 e1 表示新增属性\n        if (i > e1) { // 说明有新增 \n            if (i <= e2) { // 表示有新增的部分\n                // 先根据e2 取他的下一个元素  和 数组长度进行比较\n                const nextPos = e2 + 1;\n                const anchor = nextPos < c2.length ? c2[nextPos].el : null;\n                while (i <= e2) {\n                    patch(null, c2[i], el, anchor);\n                    i++;\n                }\n            }\n            // abcd  abc (i=3  e1=3  e2=2)\n        } else if (i > e2) { // 删除\n            while (i <= e1) {\n                hostRemove(c1[i].el);\n                i++;\n            }\n        } else {\n            // 无规律的情况 diff 算法\n            // ab [cde] fg   // s1=2  e1=4  \n            // ab [dech] fg  //  s2=2  e2=5;  => [5,4,3,0]; 无视他\n            const s1 = i;\n            const s2 = i;\n            // 新的索引 和 key 做成一个映射表\n            const keyToNewIndexMap = new Map();\n            for (let i = s2; i <= e2; i++) {\n                const nextChild = c2[i];\n                keyToNewIndexMap.set(nextChild.key, i);\n            }\n            const toBePatched = e2 - s2 + 1;\n            const newIndexToOldMapIndex = new Array(toBePatched).fill(0);\n\n            // 只是做相同属性的diff 但是位置可能还不对\n            for (let i = s1; i <= e1; i++) {\n                const prevChild = c1[i];\n                let newIndex = keyToNewIndexMap.get(prevChild.key); // 获取新的索引\n                if (newIndex == undefined) {\n                    hostRemove(prevChild.el); // 老的有 新的没有直接删除\n                } else {\n                    newIndexToOldMapIndex[newIndex - s2] = i + 1;\n                    patch(prevChild, c2[newIndex], el);\n                }\n            }\n            //  最长增长序列 [0,1]  [0,1,2,3]\n            let increasingIndexSequence = getSequence(newIndexToOldMapIndex)\n\n            let j = increasingIndexSequence.length - 1;\n\n            for (let i = toBePatched - 1; i >= 0; i--) {\n                const nextIndex = s2 + i; // [edch]   找到h的索引 \n                const nextChild = c2[nextIndex]; // 找到 h\n                let anchor = nextIndex + 1 < c2.length ? c2[nextIndex + 1].el : null; // 找到当前元素的下一个元素\n                if (newIndexToOldMapIndex[i] == 0) { // 这是一个新元素 直接创建插入到 当前元素的下一个即可\n                    patch(null, nextChild, el, anchor)\n                } else {\n                    // 根据参照物 将节点直接移动过去  所有节点都要移动 （但是有些节点可以不动）\n                    if(j < 0 || i != increasingIndexSequence[j]){\n                    // 此时没有考虑不动的情况 \n                        hostInsert(nextChild.el, el, anchor);\n                    }else{\n                        j--;\n                    }\n                }\n            }\n        }\n    }\n\n\n    function getSequence(arr) {\n        const p = arr.slice()\n        const result = [0]\n        let i, j, u, v, c\n        const len = arr.length\n        for (i = 0; i < len; i++) {\n            const arrI = arr[i]\n            if (arrI !== 0) {\n                j = result[result.length - 1]\n                if (arr[j] < arrI) {\n                    p[i] = j\n                    result.push(i)\n                    continue\n                }\n                u = 0\n                v = result.length - 1\n                while (u < v) {\n                    c = ((u + v) / 2) | 0\n                    if (arr[result[c]] < arrI) {\n                        u = c + 1\n                    } else {\n                        v = c\n                    }\n                }\n                if (arrI < arr[result[u]]) {\n                    if (u > 0) {\n                        p[i] = result[u - 1]\n                    }\n                    result[u] = i\n                }\n            }\n        }\n        u = result.length\n        v = result[u - 1]\n        while (u-- > 0) {\n            result[u] = v\n            v = p[v]\n        }\n        return result\n    }\n\n    const patchChildren = (n1, n2, el) => {\n        const c1 = n1.children; // 获取所有老的节点\n        const c2 = n2.children; // 获取新的所有的节\n        const prevShapeFlag = n1.shapeFlag; // 上一次元素的类型 \n        const shapeFlag = n2.shapeFlag; // 这一次的元素类型\n\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) { // 文本元素\n            // 老的是文本 新的是文本 =》 新的覆盖掉老的\n            // 老的是数组 新的是文本 =》 覆盖掉老的即可\n            if (c2 !== c1) {\n                hostSetElementText(el, c2);\n            }\n        } else {\n            // 新的是数组 \n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                // 老的是数组 新的是数组 =》 diff算法\n                patchKeydChildren(c1, c2, el);\n            } else {\n                //新的是数组  老的可能是文本\n                if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n                    // 移除老的文本\n                    hostSetElementText(el, '');\n                }\n                if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    // 去把新的元素进行挂在 生成新的节点塞进去\n                    for (let i = 0; i < c2.length; i++) {\n                        patch(null, c2[i], el);\n                    }\n                }\n            }\n        }\n    }\n    const patchElement = (n1, n2, container) => {\n        // 如果n1 和 n2 的类型一样\n        let el = (n2.el = n1.el); // \n        const oldProps = n1.props || {};\n        const newProps = n2.props || {};\n\n        patchProps(oldProps, newProps, el); // 比对前后属性的元素差异\n\n        patchChildren(n1, n2, el);\n    }\n    const mountComponent = (initialVnode, container) => {\n        // 组件挂载逻辑  1.创建组件的实例 2.找到组件的render方法 3.执行render\n        // 组件实例要记录当前组件的状态\n        const instance = initialVnode.component = createComponentInstace(initialVnode);\n\n        setupComponent(instance); // 找到组件的setup方法\n\n        // 调用render方法， 如果render方法中数据变化了 会重新渲染\n\n        setupRenderEffect(instance, initialVnode, container); // 给组件创建一个effect 用于渲染 == vue2 watcher\n    }\n    const setupRenderEffect = (instance, initialVnode, container) => {\n        effect(function componentEffect() {\n            if (!instance.isMounted) {\n                // 渲染组件中的内容\n                const subTree = instance.subTree = instance.render(); // 组件对应渲染的结果\n                patch(null, subTree, container)\n                instance.isMounted = true;\n            } else {\n                // 更新逻辑\n                let prev = instance.subTree // 上一次的渲染结果\n                let next = instance.render();\n                patch(prev, next, container);\n            }\n        })\n    }\n    const updateComponent = (n1, n2, container) => { }\n    const processElement = (n1, n2, container, anchor) => {\n        if (n1 == null) {\n            mountElement(n2, container, anchor);\n        } else {\n            // 比较两个虚拟节点\n            patchElement(n1, n2, container)\n        }\n    }\n    const processComponent = (n1, n2, container) => {\n        if (n1 == null) {\n            mountComponent(n2, container);\n        } else {\n            updateComponent(n1, n2, container);\n        }\n    }\n    const render = (vnode, container) => {\n        // 我需要将虚拟节点  变成真实节点 挂载到容器上\n        patch(null, vnode, container)\n    }\n\n    const isSameVnodeType = (n1, n2) => {\n        return n1.type == n2.type && n1.key === n2.key\n    }\n\n    const patch = (n1, n2, container, anchor = null) => {\n        let { shapeFlag } = n2;\n        // 20  组件孩子里有数组\n        // 10000\n        // 01000\n        if (n1 && !isSameVnodeType(n1, n2)) {\n            // 删除老节点 老节点的虚拟节点上对应着真实节点\n            hostRemove(n1.el); // removeChild\n            n1 = null\n        }\n        //console.log(n1,n2)\n\n\n        if (shapeFlag & ShapeFlags.ELEMENT) { // 都是1 才是1\n            processElement(n1, n2, container, anchor);\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n            processComponent(n1, n2, container);\n        }\n    }\n\n    return {\n        createApp: createAppAPI(render)\n    }\n}","import { createVnode } from \"./vnode\";\n\nexport function h(type, props = {}, children = null) {\n\n    return createVnode(type,props,children);\n\n}   ","export const nodeOps = {\n    createElement(type){\n        return document.createElement(type);\n    },\n    setElementText(el,text){\n        el.textContent = text;\n    },\n    insert(child,parent,anchor=null){\n        parent.insertBefore(child,anchor); // appendChild\n    },\n    remove(child){\n        const parent = child.parentNode;\n        if(parent){\n            parent.removeChild(child)\n        }\n    }\n}","\nfunction patchClass(el, value) {\n    if (value == null) {\n        value = '';\n    }\n    el.className = value\n}\nfunction patchStyle(el,prev,next){ // {color:red}  {background:red}\n    const style = el.style;\n    if(!next){\n        el.removeAttribute('style'); // 说明不需要有样式\n    }else{\n        for(let key in next){\n            style[key] = next[key]\n        }\n        if(prev){\n            for(let key in prev){\n                if(next[key] == null){\n                    style[key] = ''\n                }\n            }\n        }\n    }\n}\nfunction patchAttr(el,key,value){\n    if(value == null){\n        el.removeAttribute(key);\n    }else{\n        el.setAttribute(key,value);\n    }\n}\nexport function patchProp(el, key, prevValue, nextValue) {\n    switch (key) {\n        case 'class':\n            patchClass(el, nextValue);\n            break;\n        case 'style':\n            // {color:'red'}\n            patchStyle(el,prevValue,nextValue);\n            break;\n        default:\n            patchAttr(el,key,nextValue);\n    }\n}","\nimport { createRenderer } from \"../runtime-core\";\nimport { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./patchProp\";\n\n\n\nconst renderOptions = {...nodeOps,patchProp}; // dom操作\n\nfunction ensureRenderer(){\n    return createRenderer(renderOptions)\n}\n\n//  createApp(App).mount('#app');\nexport function createApp(rootComponent){\n    // 1.根据组件 创建一个渲染器\n    const app = ensureRenderer().createApp(rootComponent);\n    const {mount} = app\n    app.mount = function (container) {  \n        container = document.querySelector(container)\n        // 1.挂载时需要将容器清空 在进行挂载\n        container.innerHTML = ''\n        mount(container);\n    }\n    return app\n}\n// reactive"],"names":[],"mappings":"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"}